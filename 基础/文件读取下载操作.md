# 文件读取下载操作

各种 Java 文件读取方式的Demo

## java.nio.file.Files 读取文件

```java
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.List;

public class FilesReadDemo {
    public static void main(String[] args) {
        try {
            // 读取文件为字节数组
            Path filePath = Paths.get("example.txt");
            byte[] fileBytes = Files.readAllBytes(filePath);
            System.out.println("文件字节数: " + fileBytes.length);

            // 按行读取文件
            List<String> lines = Files.readAllLines(filePath);
            System.out.println("文件行数: " + lines.size());
            for (String line : lines) {
                System.out.println(line);
            }

            // JDK11+ 直接读取为字符串
            String content = Files.readString(filePath);
            System.out.println("文件内容:\n" + content);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

##  FileReader

```java
import java.io.FileReader;
import java.io.IOException;

public class FileReaderDemo {
    public static void main(String[] args) {
        try (FileReader reader = new FileReader("example.txt")) {
            System.out.println("使用FileReader读取文件:");
            int character;
            while ((character = reader.read()) != -1) {
                System.out.print((char) character);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

## BufferedReader

```java
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class BufferedReaderDemo {
    public static void main(String[] args) {
        try (BufferedReader br = new BufferedReader(new FileReader("example.txt"))) {
            System.out.println("使用BufferedReader逐行读取:");
            String line;
            while ((line = br.readLine()) != null) {
                System.out.println(line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

## Scanner 

```java
import java.io.File;
import java.io.IOException;
import java.util.Scanner;

public class ScannerReadDemo {
    public static void main(String[] args) {
        try (Scanner scanner = new Scanner(new File("example.txt"))) {
            System.out.println("使用Scanner读取文件:");
            
            // 按行读取
            while (scanner.hasNextLine()) {
                System.out.println(scanner.nextLine());
            }
            
            // 重置Scanner
            scanner.close();
            scanner = new Scanner(new File("data.csv"));
            
            // 使用分隔符读取CSV文件
            System.out.println("\n读取CSV文件:");
            scanner.useDelimiter(",");
            while (scanner.hasNext()) {
                System.out.print(scanner.next() + " | ");
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

## RandomAccessFile

```java
import java.io.IOException;
import java.io.RandomAccessFile;

public class RandomAccessFileDemo {
    public static void main(String[] args) {
        try (RandomAccessFile raf = new RandomAccessFile("example.txt", "r")) {
            System.out.println("使用RandomAccessFile读取文件:");
            
            // 读取前10个字节
            byte[] buffer = new byte[10];
            raf.read(buffer);
            System.out.println("前10个字节: " + new String(buffer));
            
            // 跳转到文件中间位置
            raf.seek(raf.length() / 2);
            System.out.println("从中间位置开始的内容:");
            
            int bytesRead;
            while ((bytesRead = raf.read(buffer)) != -1) {
                System.out.print(new String(buffer, 0, bytesRead));
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

## Apache Commons IO

```java
import org.apache.commons.io.FileUtils;
import java.io.File;
import java.io.IOException;
import java.util.List;

public class CommonsIODemo {
    public static void main(String[] args) {
        try {
            // 读取文件为字符串
            String content = FileUtils.readFileToString(new File("example.txt"), "UTF-8");
            System.out.println("FileUtils.readFileToString:\n" + content);
            
            // 按行读取文件
            List<String> lines = FileUtils.readLines(new File("example.txt"), "UTF-8");
            System.out.println("\nFileUtils.readLines:");
            for (String line : lines) {
                System.out.println(line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

## Files.newBufferedReader (NIO)

```java
import java.io.BufferedReader;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.io.IOException;

public class NIOBufferedReaderDemo {
    public static void main(String[] args) {
        Path path = Paths.get("example.txt");
        try (BufferedReader reader = Files.newBufferedReader(path)) {
            System.out.println("使用Files.newBufferedReader读取:");
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

